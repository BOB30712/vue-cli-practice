{"version":3,"file":"js/439.7c9880b5.js","mappings":"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","sources":["webpack://first-project/./node_modules/mitt/dist/mitt.mjs","webpack://first-project/./src/methods/emitter.js","webpack://first-project/./src/views/ProductList.vue","webpack://first-project/./src/components/ProductModal.vue","webpack://first-project/./src/components/ProductModal.vue?b0ff","webpack://first-project/./src/components/PageinAtion.vue","webpack://first-project/./src/components/PageinAtion.vue?bcb8","webpack://first-project/./src/views/ProductList.vue?f54f"],"sourcesContent":["export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\n\r\nexport default emitter\r\n","<template>\r\n<Loading :active=\"isLoading\"></Loading>\r\n<div class=\"text-end\">\r\n  <button class=\"btn btn-primary\" type=\"button\"\r\n  @click=\"openmodel(true)\">\r\n  增加產品\r\n  </button>\r\n</div>\r\n<table class=\"table mt-4\">\r\n  <thead>\r\n    <tr>\r\n      <th width=\"120\">分類</th>\r\n      <th>產品名稱</th>\r\n      <th width=\"120\">原價</th>\r\n      <th width=\"120\">售價</th>\r\n      <th width=\"100\">是否啟用</th>\r\n      <th width=\"200\">編輯</th>\r\n    </tr>\r\n  </thead>\r\n  <tbody>\r\n    <tr v-for=\"item in data\" :key=\"item.id\">\r\n      <td>{{item.category}}</td>\r\n      <td>{{item.title}}</td>\r\n      <td class=\"text-right\">\r\n        {{$filter.currency(item.origin_price)}}\r\n      </td>\r\n      <td class=\"text-right\">\r\n        {{currency(item.price)}}\r\n      </td>\r\n      <td>\r\n        <span class=\"text-warning\" v-if=\"!item.is_enabled\">啟用</span>\r\n        <span class=\"text-muted\" v-else>未啟用</span>\r\n      </td>\r\n      <td>\r\n        <div class=\"btn-group\">\r\n          <button class=\"btn btn-outline-primary btn-sm\" @click=\"openmodel(false, item)\">編輯</button>\r\n          <button class=\"btn btn-outline-danger btn-sm\" @click=\"delmodal(item)\">刪除</button>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  </tbody>\r\n</table>\r\n<addproduct ref=\"productmodal\" :product=\"tempProduct\" @update-product=\"updateProduct\"></addproduct>\r\n<delproduct ref=\"delproduct\" :delitem=\"tempProduct\" @delete-product=\"deleteProduct\"></delproduct>\r\n<pageination :pages=\"CurrentPage\" @changePage=\"getProduct\"></pageination>\r\n</template>\r\n\r\n<script>\r\nimport addproduct from '../components/ProductModal.vue'\r\nimport delproduct from '../components/DelProductModal.vue'\r\nimport pageination from '../components/PageinAtion.vue'\r\nimport emitter from '@/methods/emitter'\r\nimport { currency } from '../methods/filters'\r\nexport default {\r\n  data () {\r\n    return {\r\n      data: {},\r\n      tempProduct: {},\r\n      isNew: false,\r\n      isLoading: false,\r\n      CurrentPage: {}\r\n    }\r\n  },\r\n  // inject: ['emitter'],\r\n  components: {\r\n    delproduct,\r\n    addproduct,\r\n    pageination\r\n  },\r\n  methods: {\r\n    currency,\r\n    openmodel (isNew, item) {\r\n      // @click=\"this.$refs.productmodal.showmodal\"\r\n      if (isNew) {\r\n        this.tempProduct = {}\r\n      } else {\r\n        // ...item淺層拷貝\r\n        this.tempProduct = { ...item }\r\n      }\r\n      this.isNew = isNew\r\n      const productComponent = this.$refs.productmodal\r\n      productComponent.showmodal()\r\n    },\r\n    getProduct (page = 1) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\r\n      this.isLoading = true\r\n      this.$http.get(api)\r\n        .then((res) => {\r\n          this.isLoading = false\r\n          this.data = res.data.products\r\n          this.CurrentPage = res.data.pagination\r\n          // console.log(page)\r\n          // console.log(res)\r\n          // console.log(api)\r\n        })\r\n    },\r\n    updateProduct (item) {\r\n      this.tempProduct = item\r\n      // 新增\r\n      const productComponent = this.$refs.productmodal\r\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\r\n      let httpMethod = 'post'\r\n      // 編輯\r\n      if (!this.isNew) {\r\n        httpMethod = 'put'\r\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\r\n      }\r\n\r\n      this.$http[httpMethod](api, { data: this.tempProduct })\r\n        .then((res) => {\r\n          // console.log(res)\r\n          this.getProduct()\r\n          productComponent.hidemodal()\r\n          if (res.data.success) {\r\n            emitter.emit('push-message', {\r\n              style: 'success',\r\n              title: '更新成功'\r\n            })\r\n          } else {\r\n            emitter.emit('push-message', {\r\n              style: 'danger',\r\n              title: '更新失敗',\r\n              content: res.data.message.join('、')\r\n            })\r\n          }\r\n        })\r\n    },\r\n    delmodal (item) {\r\n      this.tempProduct = item\r\n      console.log('刪除', item.title)\r\n      const delproduct = this.$refs.delproduct\r\n      delproduct.show()\r\n    },\r\n    deleteProduct (delid) {\r\n      console.log('確定已經刪除', delid)\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${delid}`\r\n      this.$http.delete(api)\r\n        .then((res) => {\r\n          console.log(res)\r\n          this.getProduct()\r\n        })\r\n      const delproduct = this.$refs.delproduct\r\n      delproduct.hide()\r\n    }\r\n  },\r\n  created () {\r\n    this.getProduct()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n    <!-- Modal -->\r\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n<!-- 請同學自行新增 v-model -->\r\n<div class=\"modal-dialog modal-xl\" role=\"document\">\r\n  <div class=\"modal-content border-0\">\r\n    <div class=\"modal-header bg-dark text-white\">\r\n      <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n        <span>新增產品</span>\r\n      </h5>\r\n      <button type=\"button\" class=\"btn-close\"\r\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"modal-body\">\r\n      <div class=\"row\">\r\n        <div class=\"col-sm-4\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"image\"\r\n                    placeholder=\"請輸入圖片連結\" v-model=\"tempProduct.imageUrl\">\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n              <i class=\"fas fa-spinner fa-spin\"></i>\r\n            </label>\r\n            <input type=\"file\" id=\"customFile\" class=\"form-control\" ref=\"fileInput\" @change=\"uploadFile\">\r\n          </div>\r\n          <img class=\"img-fluid\" alt=\"\" :src=\"tempProduct.imageUrl\">\r\n          <!-- 延伸技巧，多圖 -->\r\n          <div class=\"mt-5\" v-if=\"tempProduct.imagesUrl\">\r\n            <div class=\"mb-3 input-group\" v-for=\"(image, key) in tempProduct.imagesUrl\" :key=\"key\">\r\n              <input type=\"url\" class=\"form-control form-control\"\r\n                      placeholder=\"請輸入連結\" v-model=\"tempProduct.imagesUrl[key]\">\r\n              <button type=\"button\" class=\"btn btn-outline-danger\" @click=\"tempProduct.imagesUrl.splice(key, 1)\">\r\n                移除\r\n              </button>\r\n            </div>\r\n            <div v-if=\"tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1] || !tempProduct.imagesUrl.length\">\r\n              <button class=\"btn btn-outline-primary btn-sm d-block w-100\"  @click=\"tempProduct.imagesUrl.push('')\">\r\n                新增圖片\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-sm-8\">\r\n          <div class=\"mb-3\">\r\n            <label for=\"title\" class=\"form-label\">標題</label>\r\n            <input type=\"text\" class=\"form-control\" id=\"title\"\r\n                    placeholder=\"請輸入標題\" v-model=\"tempProduct.title\">\r\n          </div>\r\n\r\n          <div class=\"row gx-2\">\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"category\" class=\"form-label\">分類</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"category\"\r\n                      placeholder=\"請輸入分類\" v-model=\"tempProduct.category\">\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"price\" class=\"form-label\">單位</label>\r\n              <input type=\"text\" class=\"form-control\" id=\"unit\"\r\n                      placeholder=\"請輸入單位\" v-model=\"tempProduct.unit\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"row gx-2\">\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"origin_price\"\r\n                      placeholder=\"請輸入原價\" v-model=\"tempProduct.origin_price\">\r\n            </div>\r\n            <div class=\"mb-3 col-md-6\">\r\n              <label for=\"price\" class=\"form-label\">售價</label>\r\n              <input type=\"number\" class=\"form-control\" id=\"price\"\r\n                      placeholder=\"請輸入售價\" v-model=\"tempProduct.price\">\r\n            </div>\r\n          </div>\r\n          <hr>\r\n\r\n          <div class=\"mb-3\">\r\n            <label for=\"description\" class=\"form-label\">產品描述</label>\r\n            <textarea type=\"text\" class=\"form-control\" id=\"description\"\r\n                      placeholder=\"請輸入產品描述\"></textarea>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <label for=\"content\" class=\"form-label\">說明內容</label>\r\n            <textarea type=\"text\" class=\"form-control\" id=\"content\"\r\n                      placeholder=\"請輸入產品說明內容\"></textarea>\r\n          </div>\r\n          <div class=\"mb-3\">\r\n            <div class=\"form-check\">\r\n              <input class=\"form-check-input\" type=\"checkbox\"\r\n                      :true-value=\"1\"\r\n                      :false-value=\"0\"\r\n                      id=\"is_enabled\" v-model=\"tempProduct.is_enabled\">\r\n              <label class=\"form-check-label\" for=\"is_enabled\">\r\n                是否啟用\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"modal-footer\">\r\n      <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n              data-bs-dismiss=\"modal\" @click=\"hidemodal\">取消\r\n      </button>\r\n      <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-product',tempProduct)\">確認</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable */\r\nimport Modal from 'bootstrap/js/dist/modal'\r\n\r\nexport default {\r\n    props: {\r\n      product: {\r\n        type: Object,\r\n        default() {return {}}\r\n      }\r\n    },\r\n    watch: {\r\n      product() {\r\n        this.tempProduct = this.product\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        modal: {},\r\n        tempProduct: {}\r\n      }\r\n    },\r\n    methods: {\r\n        showmodal(){\r\n            this.modal.show()\r\n        },\r\n        hidemodal(){\r\n            this.modal.hide()\r\n        },\r\n        uploadFile(){\r\n          const uploadFile=this.$refs.fileInput.files[0]\r\n          //console.dir(uploadFile)\r\n          const formData=new FormData()\r\n          formData.append(\"file-to-upload\",uploadFile)\r\n          const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\r\n          this.$http.post(api,formData)\r\n            .then((res) => {\r\n              console.log(res.data)\r\n              if(res.data.success){\r\n                this.tempProduct.imageUrl=res.data.imageUrl\r\n              }\r\n              // console.log(api)\r\n            })\r\n        }\r\n    },\r\n    mounted(){\r\n      const testmodal = document.querySelector(\"#exampleModal\")\r\n      //this.modal = new Modal(this.$refs.modal)\r\n      this.modal = new Modal(testmodal)\r\n    }\r\n}\r\n</script>","import { render } from \"./ProductModal.vue?vue&type=template&id=1cc2050f\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vue practice\\\\vue cli\\\\vue-cli-practice\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"FontPage(pages.current_page)\">\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li class=\"page-item\" v-for=\"item in pages.total_pages\" :key=\"item\">\r\n        <a class=\"page-link\" :class=\"{active:item==pages.current_page}\" href=\"#\" @click.prevent=\"updatePage(item)\">{{item}}</a>\r\n      </li>\r\n      <li class=\"page-item\">\r\n        <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"NextPage(pages.current_page)\">\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  data () {\r\n    return {\r\n      page: 0\r\n    }\r\n  },\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('changePage', page)\r\n    },\r\n    NextPage (page) {\r\n      this.$emit('changePage', page + 1)\r\n    },\r\n    FontPage (page) {\r\n      this.$emit('changePage', page - 1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PageinAtion.vue?vue&type=template&id=0dc6fcfa\"\nimport script from \"./PageinAtion.vue?vue&type=script&lang=js\"\nexport * from \"./PageinAtion.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vue practice\\\\vue cli\\\\vue-cli-practice\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductList.vue?vue&type=template&id=534344f9\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\USER\\\\Desktop\\\\vue practice\\\\vue cli\\\\vue-cli-practice\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["n","all","Map","on","t","e","i","get","push","set","off","splice","indexOf","emit","slice","map","emitter","mitt","class","_createElementVNode","width","_createVNode","_component_Loading","active","$data","type","onClick","$options","_hoisted_3","_createElementBlock","_Fragment","_renderList","item","key","id","_toDisplayString","category","title","_ctx","currency","origin_price","price","is_enabled","_hoisted_9","_hoisted_10","_component_addproduct","ref","product","onUpdateProduct","_component_delproduct","delitem","onDeleteProduct","_component_pageination","pages","onChangePage","tabindex","role","for","_hoisted_4","placeholder","imageUrl","$event","_hoisted_11","onChange","alt","src","imagesUrl","image","_hoisted_15","length","_hoisted_16","_hoisted_19","_hoisted_22","_hoisted_24","unit","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_35","props","Object","default","watch","this","tempProduct","data","modal","methods","showmodal","show","hidemodal","hide","uploadFile","$refs","fileInput","files","formData","FormData","append","api","$http","post","then","res","console","log","success","mounted","testmodal","document","querySelector","Modal","__exports__","_hoisted_8","href","$props","current_page","total_pages","_hoisted_6","page","updatePage","$emit","NextPage","FontPage","isNew","isLoading","CurrentPage","components","delproduct","addproduct","pageination","openmodel","productComponent","productmodal","getProduct","products","pagination","updateProduct","httpMethod","style","content","message","join","delmodal","deleteProduct","delid","delete","created","render"],"sourceRoot":""}